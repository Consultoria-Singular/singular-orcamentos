
/* ==========================================================================
   Singular Design System â€” Components v1.0 (2025-09-19)
   Depends on: singular-tokens.css
   Includes: base reset, typography, buttons, inputs, selects, helpers
   ========================================================================== */

/* ========== Base Reset (minimal, modern) ================================= */
*,
*::before,
*::after { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; }
body {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--text-md);
  line-height: var(--leading-normal);
  background: var(--color-bg);
  color: var(--color-on-bg);
  text-rendering: optimizeLegibility;
}
img, svg, video, canvas { display: block; max-width: 100%; height: auto; }
button, input, select, textarea { font: inherit; color: inherit; }
a { color: var(--color-brand); text-decoration: none; }
a:hover { text-decoration: underline; }
:focus-visible { outline: none; box-shadow: var(--focus-ring); border-radius: 6px; }

/* Containers */
.container {
  width: 100%;
  margin-inline: auto;
  padding-inline: var(--space-4);
  max-width: var(--container-lg);
}

/* ========== Typography ==================================================== */
.h1 { font-size: var(--text-4xl); line-height: var(--leading-tight); font-weight: var(--font-weight-bold); letter-spacing: -0.01em; }
.h2 { font-size: var(--text-3xl); line-height: var(--leading-tight); font-weight: var(--font-weight-bold); letter-spacing: -0.01em; }
.h3 { font-size: var(--text-2xl); font-weight: var(--font-weight-semibold); }
.subtitle { color: var(--color-muted); }

/* ========== Surfaces (cards) ============================================== */
.card {
  background: var(--color-surface-1);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}
.card--padded { padding: var(--space-6); }

/* ========== Buttons ======================================================= */
.btn {
  --btn-bg: var(--color-surface-2);
  --btn-fg: var(--color-on-surface);
  --btn-bd: var(--color-border);
  --btn-bg-hover: color-mix(in srgb, var(--btn-bg) 92%, #000 8%);
  --btn-bd-hover: color-mix(in srgb, var(--btn-bd) 85%, #000 15%);

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: 0.625rem 1rem; /* 10px 16px */
  border-radius: var(--radius-md);
  border: 1px solid var(--btn-bd);
  background: var(--btn-bg);
  color: var(--btn-fg);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: background var(--transition-normal), border-color var(--transition-normal), transform var(--transition-fast);
  text-decoration: none;
  user-select: none;
}
.btn:hover { background: var(--btn-bg-hover); border-color: var(--btn-bd-hover); }
.btn:active { transform: translateY(1px); }
.btn:disabled,
.btn[aria-disabled="true"] {
  opacity: .6;
  cursor: not-allowed;
  pointer-events: none;
}

/* Sizes */
.btn--sm { padding: 0.5rem 0.75rem; font-size: var(--text-sm); border-radius: var(--radius-sm); }
.btn--lg { padding: 0.75rem 1.25rem; font-size: var(--text-lg); border-radius: var(--radius-lg); }

/* Variants */
.btn--primary {
  --btn-bg: var(--color-brand);
  --btn-fg: var(--color-on-brand);
  --btn-bd: var(--color-brand);
  --btn-bg-hover: color-mix(in srgb, var(--color-brand) 85%, #000 15%);
  --btn-bd-hover: var(--btn-bg-hover);
}
.btn--secondary {
  --btn-bg: var(--color-secondary);
  --btn-fg: var(--color-on-secondary);
  --btn-bd: var(--color-secondary);
  --btn-bg-hover: color-mix(in srgb, var(--color-secondary) 85%, #000 15%);
  --btn-bd-hover: var(--btn-bg-hover);
}
.btn--accent {
  --btn-bg: var(--color-accent);
  --btn-fg: var(--color-on-accent);
  --btn-bd: var(--color-accent);
  --btn-bg-hover: color-mix(in srgb, var(--color-accent) 85%, #000 15%);
  --btn-bd-hover: var(--btn-bg-hover);
}
.btn--outline {
  --btn-bg: transparent;
  --btn-fg: var(--color-on-surface);
  --btn-bd: var(--color-border);
  --btn-bg-hover: color-mix(in srgb, var(--color-surface-1) 80%, var(--color-border) 20%);
  --btn-bd-hover: var(--color-neutral-300);
}
.btn--ghost {
  --btn-bg: transparent;
  --btn-fg: var(--color-on-surface);
  --btn-bd: transparent;
  --btn-bg-hover: color-mix(in srgb, var(--color-brand-50) 60%, transparent);
  --btn-bd-hover: transparent;
}

/* Icon-only */
.btn--icon {
  padding: 0.5rem;
  width: 2.25rem; height: 2.25rem;
}

/* Loading state */
.btn.is-loading { position: relative; pointer-events: none; }
.btn.is-loading::after {
  content: "";
  width: 1em; height: 1em;
  border-radius: 50%;
  border: 2px solid color-mix(in srgb, var(--btn-fg) 30%, transparent);
  border-top-color: var(--btn-fg);
  animation: spin .8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); }}

/* ========== Forms: labels, inputs, textareas, selects ===================== */
.form-field { display: grid; gap: var(--space-2); }
.form-label {
  font-weight: var(--font-weight-medium);
  color: var(--color-on-surface);
}
.form-help { color: var(--color-muted); font-size: var(--text-sm); }
.form-error { color: var(--color-danger); font-size: var(--text-sm); }

.input,
.textarea,
.select {
  width: 100%;
  border: 1px solid var(--color-border);
  background: var(--color-surface-1);
  color: var(--color-on-surface);
  border-radius: var(--radius-md);
  padding: 0.625rem 0.75rem;
  transition: border-color var(--transition-normal), box-shadow var(--transition-fast), background var(--transition-normal);
}
.textarea { min-height: 120px; resize: vertical; }

.input::placeholder,
.textarea::placeholder { color: color-mix(in srgb, var(--color-muted) 70%, transparent); }

.input:hover,
.textarea:hover,
.select:hover { border-color: var(--color-neutral-300); }

.input:focus-visible,
.textarea:focus-visible,
.select:focus-visible {
  box-shadow: var(--focus-ring);
  border-color: var(--color-brand-400);
  outline: none;
}

/* Invalid / error */
.input.is-invalid,
.textarea.is-invalid,
.select.is-invalid {
  border-color: var(--color-danger);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-danger) 25%, transparent);
}

/* Disabled */
.input:disabled,
.textarea:disabled,
.select:disabled {
  opacity: .7;
  cursor: not-allowed;
  background: var(--color-surface-2);
}

/* Select (custom arrow) */
.select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-image:
    linear-gradient(45deg, transparent 50%, currentColor 50%),
    linear-gradient(135deg, currentColor 50%, transparent 50%);
  background-position:
    calc(100% - 18px) calc(50% - 3px),
    calc(100% - 12px) calc(50% - 3px);
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
  padding-right: 2rem;
}

/* Input group (prefix/suffix) */
.input-group {
  display: flex;
  align-items: stretch;
  border: 1px solid var(--color-border);
  background: var(--color-surface-1);
  border-radius: var(--radius-md);
  overflow: hidden;
}
.input-group > .addon {
  display: inline-flex;
  align-items: center;
  padding: 0 0.75rem;
  color: var(--color-muted);
  background: var(--color-surface-2);
  border-right: 1px solid var(--color-border);
}
.input-group > input {
  border: 0;
  flex: 1 1 auto;
  padding: 0.625rem 0.75rem;
  background: transparent;
  color: inherit;
}

/* ========== Helpers ======================================================= */
.stack { display: grid; gap: var(--space-4); }
.row { display: flex; flex-wrap: wrap; gap: var(--space-4); }
.grid { display: grid; gap: var(--space-4); }
.grid--2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
.grid--3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.grid--4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }

.badge {
  display: inline-flex; align-items: center; gap: .4em;
  padding: .25rem .5rem;
  font-size: var(--text-sm);
  border-radius: var(--radius-pill);
  background: var(--color-surface-2);
  color: var(--color-on-surface);
  border: 1px solid var(--color-border);
}
.badge--brand { background: color-mix(in srgb, var(--color-brand) 10%, var(--color-surface-2)); color: var(--color-brand-800); border-color: color-mix(in srgb, var(--color-brand) 25%, var(--color-border)); }
.badge--success { background: color-mix(in srgb, var(--color-success) 10%, var(--color-surface-2)); color: var(--color-success); border-color: color-mix(in srgb, var(--color-success) 25%, var(--color-border)); }
.badge--warning { background: color-mix(in srgb, var(--color-warning) 12%, var(--color-surface-2)); color: var(--color-warning); border-color: color-mix(in srgb, var(--color-warning) 25%, var(--color-border)); }
.badge--danger  { background: color-mix(in srgb, var(--color-danger) 10%, var(--color-surface-2)); color: var(--color-danger); border-color: color-mix(in srgb, var(--color-danger) 25%, var(--color-border)); }

/* Tables (minimal) */
.table {
  width: 100%;
  border-collapse: collapse;
  background: var(--color-surface-1);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
}
.table th, .table td {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid var(--color-border);
  text-align: left;
}
.table thead th {
  background: var(--color-surface-2);
  font-weight: var(--font-weight-semibold);
}
.table tbody tr:hover {
  background: color-mix(in srgb, var(--color-brand-50) 30%, transparent);
}

/* Alerts */
.alert {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--space-4);
  display: grid; gap: var(--space-2);
  background: var(--color-surface-1);
}
.alert--info { border-color: color-mix(in srgb, var(--color-info) 40%, var(--color-border)); background: color-mix(in srgb, var(--color-info) 6%, var(--color-surface-1)); }
.alert--success { border-color: color-mix(in srgb, var(--color-success) 40%, var(--color-border)); background: color-mix(in srgb, var(--color-success) 6%, var(--color-surface-1)); }
.alert--warning { border-color: color-mix(in srgb, var(--color-warning) 40%, var(--color-border)); background: color-mix(in srgb, var(--color-warning) 8%, var(--color-surface-1)); }
.alert--danger  { border-color: color-mix(in srgb, var(--color-danger) 40%, var(--color-border)); background: color-mix(in srgb, var(--color-danger) 6%, var(--color-surface-1)); }

/* Utilities (spacing shortcuts) */
.mt-4 { margin-top: var(--space-4); } .mb-4 { margin-bottom: var(--space-4); } .ms-4 { margin-inline-start: var(--space-4); } .me-4 { margin-inline-end: var(--space-4); }
.p-4 { padding: var(--space-4); } .p-6 { padding: var(--space-6); }

/* End of components */
